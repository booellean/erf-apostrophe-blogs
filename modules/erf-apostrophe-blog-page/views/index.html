{% import 'fragments.html' as layouts %}
{% extends "layout.html" %}

{% block startHead %}
{% component 'erf-apostrophe-blog-page:ogTagsIndex' %}
{% endblock %}

{% extends data.outerLayout %}
{% block title %}{{ data.page.title }}{% endblock %}

{% block main %}
  {% set indexTemplateView = data.articleSettings.indexTemplate.data %}
  {% if layouts[indexTemplateView] is defined %}
    {% render layouts[indexTemplateView](data.pieces) %}
  {% else %}
    {% render layouts.default(data.pieces) %}
  {% endif %}
  {% import '@apostrophecms/pager:macros.html' as pager with context %}
  {{ pager.render({
    page: data.currentPage,
    total: data.totalPages
  }, data.url) }}
{% endblock %}
